# 🏋️‍♂️ 헬스장 회원 관리 시스템

FastAPI 기반의 헬스장 회원 관리 및 출입 확인 시스템입니다.

## 📋 프로젝트 개요

- **메인 기능**: 전화번호 뒷자리 4자리로 회원 출입 확인
- **관리 기능**: 회원 등록, 수정, 삭제 및 목록 관리
- **기술 스택**: FastAPI, SQLAlchemy, SQLite, HTML/CSS/JavaScript

## 🌐 라이브 데모 (배포 완료!)

✨ **실제 웹사이트가 운영 중입니다!**

- **🏠 메인 페이지 (출입 확인)**: https://test898.onrender.com
- **🔧 관리자 모드**: https://test898.onrender.com/admin  
- **📚 API 문서**: https://test898.onrender.com/docs

### 📱 **즉시 테스트 가능**
- 전화번호 뒷자리 **`1841`** 입력 → 박용정님 확인
- 스마트폰, 태블릿, PC 모든 기기에서 접속 가능

## 🚀 로컬 실행 방법

### 1. 의존성 설치
```bash
pip install -r requirements.txt
```

### 2. 서버 실행
```bash
python -m uvicorn src.main:app --reload --host 127.0.0.1 --port 8005
```

### 3. 로컬 접속
- **메인 페이지 (출입 확인)**: http://127.0.0.1:8005
- **관리자 모드**: http://127.0.0.1:8005/admin
- **API 문서**: http://127.0.0.1:8005/docs

## 🎯 주요 기능

### 🔍 출입 확인 시스템
- 전화번호 뒷자리 4자리 입력으로 즉시 회원 확인
- 환영 메시지 및 남은 기간 표시
- 상태별 색상 구분 (유효/만료/오늘만료)
- 자동 화면 초기화 및 포커스

### 👥 회원 관리 시스템
- 회원 등록 (이름, 전화번호, 시작일, 종료일)
- 회원 정보 수정 및 삭제
- 전체 회원 목록 조회
- 전화번호 자동 포맷팅 (01012345678 → 010-1234-5678)

### 🛡️ 예외 처리
- 미등록 회원 안내
- 중복 전화번호 뒷자리 처리
- 입력 유효성 검사
- 친화적인 오류 메시지

## 📁 프로젝트 구조

```
embryo9/
├── src/
│   ├── main.py              # FastAPI 메인 애플리케이션
│   ├── database/
│   │   └── database.py      # 데이터베이스 설정
│   ├── models/
│   │   └── member.py        # 회원 데이터 모델
│   ├── schemas/
│   │   └── member_schema.py # Pydantic 스키마
│   ├── routers/
│   │   └── member_router.py # API 라우터
│   └── utils/
│       └── exceptions.py    # 예외 처리
├── templates/
│   ├── index.html          # 메인 페이지 (출입 확인)
│   └── admin.html          # 관리자 페이지
├── tests/
│   ├── conftest.py         # 테스트 설정
│   └── test_member_api.py  # API 테스트
├── requirements.txt        # 의존성 목록
└── README.md              # 프로젝트 문서
```

## 🔗 API 엔드포인트

### 회원 관리
- `POST /api/v1/members/` - 회원 등록
- `GET /api/v1/members/` - 전체 회원 조회
- `GET /api/v1/members/{id}` - 특정 회원 조회
- `PUT /api/v1/members/{id}` - 회원 정보 수정
- `DELETE /api/v1/members/{id}` - 회원 삭제

### 출입 확인
- `GET /api/v1/members/check/{last_four_digits}` - 전화번호 뒷자리로 회원 확인

## 💾 데이터베이스 스키마

### members 테이블
| 컬럼 | 타입 | 설명 |
|------|------|------|
| id | INTEGER | 기본키 (자동증가) |
| name | STRING | 회원 이름 |
| phone_number | STRING | 전화번호 (010-0000-0000 형식) |
| start_date | DATE | 회원권 시작일 |
| end_date | DATE | 회원권 종료일 (NULL 가능) |

## 🧪 테스트 실행

```bash
python -m pytest tests/ -v
```

## 📱 사용 예시

### 출입 확인
1. 메인 페이지에서 전화번호 뒷자리 4자리 입력 (예: `1841`)
2. 결과 확인:
   ```
   안녕하세요, 박용정님! 🏋️‍♂️
   📞 010-2648-1841
   ⏰ 5일 남았습니다
   ```

### 회원 등록
1. 관리자 모드 접속
2. 회원 정보 입력:
   - 이름: 홍길동
   - 전화번호: 01012345678 (자동으로 010-1234-5678 변환)
   - 시작일: 2025-07-26
   - 종료일: 2025-12-31

## 🔧 기술적 특징

### Backend (FastAPI)
- **비동기 처리**: 고성능 API 서버
- **자동 문서화**: Swagger UI 제공
- **타입 힌팅**: Pydantic 스키마 검증
- **예외 처리**: 사용자 친화적 오류 메시지

### Frontend (Vanilla JS)
- **반응형 디자인**: 모바일/데스크톱 대응
- **실시간 입력 검증**: 전화번호 자동 포맷팅
- **직관적 UI**: 상태별 색상 및 애니메이션
- **자동 포커스**: 연속 사용을 위한 UX 최적화

### Database (SQLite)
- **경량 데이터베이스**: 설치 불필요
- **ACID 트랜잭션**: 데이터 일관성 보장
- **ORM 사용**: SQLAlchemy로 안전한 쿼리

## 🛠️ 개발 환경

- **Python**: 3.12+
- **FastAPI**: 최신 버전
- **SQLAlchemy**: 2.0+
- **Pydantic**: V2 (최신 문법 적용)
- **pytest**: 테스트 프레임워크

## 📈 향후 개선 사항

- [ ] 회원 출입 기록 저장
- [ ] 통계 대시보드 추가
- [ ] 백업/복원 기능
- [ ] 다중 지점 지원
- [ ] 모바일 앱 연동

## 👨‍💻 개발자 노트

이 시스템은 실제 헬스장에서 바로 사용할 수 있도록 설계되었습니다. 특히 다음 사항들이 고려되었습니다:

- **빠른 응답**: 출입 확인이 1초 이내에 완료
- **오류 최소화**: 전화번호 자동 포맷팅으로 입력 실수 방지
- **사용 편의성**: 큰 글씨와 명확한 색상 구분
- **유지보수성**: 모듈화된 코드 구조와 포괄적인 테스트

---

## 🏆 **프로젝트 완성 기록**

- **개발 시작**: 2025년 7월 26일 오전
- **개발 완료**: 2025년 7월 26일 오후  
- **배포 완료**: 2025년 7월 26일 저녁
- **총 개발 시간**: 1일 (약 10시간)

### 🎯 **최종 결과**
- ✅ **완전한 기능**: 회원 관리 + 출입 확인 시스템
- ✅ **웹 배포**: https://test898.onrender.com (24시간 운영)
- ✅ **GitHub 저장소**: https://github.com/darkss75/test898
- ✅ **모든 테스트 통과**: 10/10 성공
- ✅ **실제 사용 가능**: 헬스장에서 바로 운영 가능

### 📱 **테스트 정보**
- **테스트 회원**: 박용정 (010-2648-1841)
- **출입 확인**: 뒷자리 `1841` 입력
- **관리자 접속**: `/admin` 경로

**🎉 1일만에 아이디어부터 실제 웹사이트까지 완성!**